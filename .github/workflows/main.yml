name: Test Realtime Firebase
on:
  push:
    branches:
      - master
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - name: test get
        uses: rafacolab/realtime-db-action@v1.0.0
        id: testGet
        with:
          project_id: "smart-grow-41b4b"
          private_key_id: "392b72ccaa5631fe87496aae3564048f3829ec97"
          private_key: "-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDJnwWwxRe8Pyr4\ne/7vvobiOE9VQF4TVbMMPaiIpTptjH+gUMF0T1LhdKNiE5l6vxdEDH1ungj3fRnP\n6M693bRsOmqyK/iPXf7Uh7kSIKMcZj3UWDwXxUKvjzkG6ybgpr4DFrv1qKAjhMw8\n/KTmmamclEy34ZvQN/cDYvVU2i9uHOHWtgrpkn70bCsJFyvWFGyRtwzppIni1aMG\n3WErVWWm8cKii8haCpABErU7p2+XkYTVJ3QNir3q+JFwIZNi7yxbQS5otahQbSWn\nr4K3/XbHrxuxBCXcuX17j0G9bd+pMR7Zyj6aqS2gT7Fy35705fu7h2O7O8OaGg5T\nZUUQRX+zAgMBAAECggEABNR8bGmsUeQpgV5nExM7Y/v5Wo96MXhiG672dJ+QsMMm\n445LtB+aWrBSoazahmhBhG3QK3A5wsQKdEKdgUroYZdcqvwGrliQHENMGbUSc0G3\nxXh/qAofuNjzgsjrW4JjFuvagN4TSAaMZgGfaa7Qs2GSHO2Yr/pHPpuGSQwZCsg3\nbbVAGB7T4wEYDSNrMS4FXbWeCNSBAhe7lLtXdRGzYa0gMtM/e8Fmnq+IQbdmHNti\nfBrvD8yOSWCc3xXrlnaNflUGMrJ8uEDIxGo6sBxc6CmYbLzozINhoY9B0GIGSxvi\n4cLnXfRVt7BpF4t3TCmkbgOHaUiNvQccdNTcCBnCwQKBgQD1nts4zh8Uf2/2IeRL\nQRd8VNvcWgx48Agcok7apF4N0+DqCSZ0khul+CDWBIBW0Or3BC+o/PbLOvrVsIoX\nBQr11lfuis2CxIxv+gQ1QEdXKf3csrmSbDtVm+/xOPJm4wQ8ffTNvSBbiYIuGz4b\nH3ZvwPxDuiY0VUdsqhAaxcK9owKBgQDSJC1cKATcn99WIQHn/CsoX5cSz8A0Zczt\nCw0G8wwkEubMNv/a9Hd+uqcJu5yGooiopA8VTKU31ax9gnqtjC1FDNEH0g4SL1eT\nPaY7JlZn7YIwlwWD4UyQE6flSNRkC0hHgwChUQcUnNCll3VaJs+nbastkY8IpthC\ncgE2huA2sQKBgQDk7YIQCPWo6jpVYzNf/LRCGumtEHUNh1NYNONgH9DV/IRmPc8M\n2V1RrNoV/64KvMAzKUCutc/kjf1ajCe42udjSLs+RzrSxhTLDXE8nMOhdy74s9AI\nrD4FRck2wMgVo0PAiflQhRUSnDCsfpG9P+7orCuziF2xa0ad/kfyXB5tFwKBgCC+\nimLlyXwnXUGqewWPAZqU6pF/1c9UXY5CPpFqpeWpHFWN7GhN16DjrMuTdFx2Tx0Y\nE1GaU9RTc0FLZ5pLUXKFAL1bOd4Tim3jGVf2LVicZcD0h2N5Y9i/d1X+9zlvmJ+s\nBhkc6yGHHevvodWeXpUUPawoFkWe2evgn9fDRITBAoGBAL/TvwEJCTWDRzaGXvYY\nrKfuC0AdPigmqKi0z6CZSMXz3okTTVuF1xM0OKx0Bz5Zq8N4OxqAlJeqC/EkvhsR\n6ebzaY8mDVkLzIEMKhh2YE/yTE5t3t/wPzM9p29SO2mDJUgV2yumlRzqI9To1ZLN\ncgek7yetqzV8Wh5hlL6EvGKA\n-----END PRIVATE KEY-----\n"
          client_email: "firebase-adminsdk-mi2lt@smart-grow-41b4b.iam.gserviceaccount.com"
          client_id: "106482096348906120392"
          auth_uri: "https://accounts.google.com/o/oauth2/auth"
          token_uri: "https://oauth2.googleapis.com/token"
          auth_provider_x509_cert_url:  "https://www.googleapis.com/oauth2/v1/certs"
          client_x509_cert_url: "https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-mi2lt%40smart-grow-41b4b.iam.gserviceaccount.com"
          database_default_url: "https://smart-grow-41b4b-default-rtdb.europe-west1.firebasedatabase.app/"
          reference: '/firmware'
          operation: get
      - name: Get the output
        run: echo "The object result is ${{ steps.testGet.outputs.RESULT }}"
      - name: test set
        uses: rafacolab/realtime-db-action@v1.0.0
        with:
          project_id: "smart-grow-41b4b"
          private_key_id: "392b72ccaa5631fe87496aae3564048f3829ec97"
          private_key: "-----BEGIN PRIVATE KEY-----\nMIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQDJnwWwxRe8Pyr4\ne/7vvobiOE9VQF4TVbMMPaiIpTptjH+gUMF0T1LhdKNiE5l6vxdEDH1ungj3fRnP\n6M693bRsOmqyK/iPXf7Uh7kSIKMcZj3UWDwXxUKvjzkG6ybgpr4DFrv1qKAjhMw8\n/KTmmamclEy34ZvQN/cDYvVU2i9uHOHWtgrpkn70bCsJFyvWFGyRtwzppIni1aMG\n3WErVWWm8cKii8haCpABErU7p2+XkYTVJ3QNir3q+JFwIZNi7yxbQS5otahQbSWn\nr4K3/XbHrxuxBCXcuX17j0G9bd+pMR7Zyj6aqS2gT7Fy35705fu7h2O7O8OaGg5T\nZUUQRX+zAgMBAAECggEABNR8bGmsUeQpgV5nExM7Y/v5Wo96MXhiG672dJ+QsMMm\n445LtB+aWrBSoazahmhBhG3QK3A5wsQKdEKdgUroYZdcqvwGrliQHENMGbUSc0G3\nxXh/qAofuNjzgsjrW4JjFuvagN4TSAaMZgGfaa7Qs2GSHO2Yr/pHPpuGSQwZCsg3\nbbVAGB7T4wEYDSNrMS4FXbWeCNSBAhe7lLtXdRGzYa0gMtM/e8Fmnq+IQbdmHNti\nfBrvD8yOSWCc3xXrlnaNflUGMrJ8uEDIxGo6sBxc6CmYbLzozINhoY9B0GIGSxvi\n4cLnXfRVt7BpF4t3TCmkbgOHaUiNvQccdNTcCBnCwQKBgQD1nts4zh8Uf2/2IeRL\nQRd8VNvcWgx48Agcok7apF4N0+DqCSZ0khul+CDWBIBW0Or3BC+o/PbLOvrVsIoX\nBQr11lfuis2CxIxv+gQ1QEdXKf3csrmSbDtVm+/xOPJm4wQ8ffTNvSBbiYIuGz4b\nH3ZvwPxDuiY0VUdsqhAaxcK9owKBgQDSJC1cKATcn99WIQHn/CsoX5cSz8A0Zczt\nCw0G8wwkEubMNv/a9Hd+uqcJu5yGooiopA8VTKU31ax9gnqtjC1FDNEH0g4SL1eT\nPaY7JlZn7YIwlwWD4UyQE6flSNRkC0hHgwChUQcUnNCll3VaJs+nbastkY8IpthC\ncgE2huA2sQKBgQDk7YIQCPWo6jpVYzNf/LRCGumtEHUNh1NYNONgH9DV/IRmPc8M\n2V1RrNoV/64KvMAzKUCutc/kjf1ajCe42udjSLs+RzrSxhTLDXE8nMOhdy74s9AI\nrD4FRck2wMgVo0PAiflQhRUSnDCsfpG9P+7orCuziF2xa0ad/kfyXB5tFwKBgCC+\nimLlyXwnXUGqewWPAZqU6pF/1c9UXY5CPpFqpeWpHFWN7GhN16DjrMuTdFx2Tx0Y\nE1GaU9RTc0FLZ5pLUXKFAL1bOd4Tim3jGVf2LVicZcD0h2N5Y9i/d1X+9zlvmJ+s\nBhkc6yGHHevvodWeXpUUPawoFkWe2evgn9fDRITBAoGBAL/TvwEJCTWDRzaGXvYY\nrKfuC0AdPigmqKi0z6CZSMXz3okTTVuF1xM0OKx0Bz5Zq8N4OxqAlJeqC/EkvhsR\n6ebzaY8mDVkLzIEMKhh2YE/yTE5t3t/wPzM9p29SO2mDJUgV2yumlRzqI9To1ZLN\ncgek7yetqzV8Wh5hlL6EvGKA\n-----END PRIVATE KEY-----\n"
          client_email: "firebase-adminsdk-mi2lt@smart-grow-41b4b.iam.gserviceaccount.com"
          client_id: "106482096348906120392"
          auth_uri: "https://accounts.google.com/o/oauth2/auth"
          token_uri: "https://oauth2.googleapis.com/token"
          auth_provider_x509_cert_url:  "https://www.googleapis.com/oauth2/v1/certs"
          client_x509_cert_url: "https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-mi2lt%40smart-grow-41b4b.iam.gserviceaccount.com"
          database_default_url: "https://smart-grow-41b4b-default-rtdb.europe-west1.firebasedatabase.app/"
          reference: '/firmware'
          operation: set
          data: "{ \"name\": \"Hanno\", \"age\": 29 }"
